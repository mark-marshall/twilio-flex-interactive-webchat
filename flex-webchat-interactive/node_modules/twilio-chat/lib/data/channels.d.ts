/// <reference types="node" />
import { EventEmitter } from 'events';
import { Channel } from '../channel';
import { SyncClient } from 'twilio-sync';
import { ChannelDescriptor } from '../channeldescriptor';
import { Session } from '../session';
import { SyncList } from '../synclist';
import { Users } from './users';
import { Network } from '../services/network';
import { TypingIndicator } from '../services/typingindicator';
import { ConsumptionHorizon } from '../services/consumptionhorizon';
import { McsClient } from 'twilio-mcs-client';
import { Deferred } from '../util/deferred';
export interface ChannelsServices {
    session: Session;
    syncClient: SyncClient;
    syncList: SyncList;
    users: Users;
    typingIndicator: TypingIndicator;
    consumptionHorizon: ConsumptionHorizon;
    network: Network;
    mcsClient: McsClient;
}
/**
 * Represents channels collection
 * {@see Channel}
 */
declare class Channels extends EventEmitter {
    private services;
    readonly channels: Map<string, Channel>;
    private readonly thumbstones;
    private syncListFetched;
    readonly syncListRead: Deferred<boolean>;
    constructor(services: ChannelsServices);
    private getMap;
    /**
     * Add channel to server
     * @private
     * @returns {Promise<Channel|SessionError>} Channel
     */
    addChannel(options: any): Promise<Channel>;
    /**
     * Fetch channels list and instantiate all necessary objects
     */
    fetchChannels(): void;
    private _wrapPaginator;
    getChannels(args: any): Promise<any>;
    getChannel(sid: string): Promise<Channel>;
    pushChannel(descriptor: ChannelDescriptor): Promise<Channel>;
    private upsertChannel;
    private onChannelRemoved;
    private registerForEvents;
}
declare namespace Channels {
    type DataSource = 'sync' | 'chat' | 'synclist';
}
export { Channel, Channels };
