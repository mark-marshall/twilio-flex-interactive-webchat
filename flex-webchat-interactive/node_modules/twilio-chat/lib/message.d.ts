/// <reference types="node" />
import { EventEmitter } from 'events';
import { Channel } from './channel';
import { Session } from './session';
import { McsClient } from 'twilio-mcs-client';
import { Media } from './media';
import { Member } from './member';
import { SessionError } from './sessionerror';
declare namespace Message {
    type Type = 'text' | 'media';
}
export interface MessageServices {
    session: Session;
    mcsClient: McsClient;
}
declare namespace Message {
    type UpdateReason = 'body' | 'lastUpdatedBy' | 'dateUpdated' | 'timestamp' | 'attributes' | 'author';
    interface UpdatedEventArgs {
        message: Message;
        updateReasons: Message.UpdateReason[];
    }
}
/**
 * @classdesc A Message represents a Message in a Channel.
 * @property {String} author - The name of the user that sent Message
 * @property {String} body - The body of the Message. Is null if Message is Media Message
 * @property {Object} attributes - Message custom attributes
 * @property {Channel} channel - Channel Message belongs to
 * @property {Date} dateUpdated - When Message was updated
 * @property {Number} index - Index of Message in the Channel's messages list
 * @property {String} lastUpdatedBy - Identity of the last user that updated Message
 * @property {Media} media - Contains Media information (if present)
 * @property {String} memberSid - Authoring Member's server-assigned unique identifier
 * @property {String} sid - The server-assigned unique identifier for Message
 * @property {Date} timestamp - When Message was created
 * @property {'text' | 'media' } type - Type of message: 'text' or 'media'
 * @fires Message#updated
 */
declare class Message extends EventEmitter {
    readonly channel: Channel;
    private services;
    private state;
    /**
     * The update reason for <code>updated</code> event emitted on Message
     * @typedef {('body' | 'lastUpdatedBy' | 'dateUpdated' | 'timestamp' | 'attributes' | 'author')} Message#UpdateReason
     */
    constructor(channel: Channel, services: MessageServices, index: number, data: any);
    get sid(): string;
    get author(): string;
    get body(): string;
    get dateUpdated(): Date;
    get index(): number;
    get lastUpdatedBy(): string;
    get timestamp(): Date;
    get attributes(): Object;
    get type(): Message.Type;
    get media(): Media;
    get memberSid(): string;
    _update(data: any): void;
    /**
     * Get Member who is author of the Message
     * @returns {Promise<Member>}
     */
    getMember(): Promise<Member>;
    /**
     * Remove the Message.
     * @returns {Promise<Message|SessionError>}
     */
    remove(): Promise<Message | SessionError>;
    /**
     * Edit message body.
     * @param {String} body - new body of Message.
     * @returns {Promise<Message|Error|SessionError>}
     */
    updateBody(body: string): Promise<Message | Error | SessionError>;
    /**
     * Edit message attributes.
     * @param {Object} attributes new attributes for Message.
     * @returns {Promise<Message|Error|SessionError>}
     */
    updateAttributes(attributes: Object): Promise<this>;
}
export { Message };
/**
 * Fired when the Message's properties or body has been updated.
 * @event Message#updated
 * @type {Object}
 * @property {Message} message - Updated Message
 * @property {Message#UpdateReason[]} updateReasons - Array of Message's updated event reasons
 */
