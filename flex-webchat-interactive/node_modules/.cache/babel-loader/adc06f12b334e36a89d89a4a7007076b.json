{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mmarshall/Desktop/twilio-flex-interactive-webchat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mmarshall/Desktop/twilio-flex-interactive-webchat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mmarshall/Desktop/twilio-flex-interactive-webchat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mmarshall/Desktop/twilio-flex-interactive-webchat/src/App.jsx\";\n\n// Package Imports\nimport React, { useEffect, useState } from 'react';\nimport * as FlexWebChat from '@twilio/flex-webchat-ui'; // Global State Imports\n\nimport customState from './store/state';\nimport customReducer from './store/reducers/customReducer'; // Component Imports\n\nimport Interactives from './components/Interactives'; // Const Imports\n\nimport { loadingPlaceholder, managerStringOverrides } from './consts'; // Component\n\nvar App = function App(_ref) {\n  var configuration = _ref.configuration;\n\n  // State\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      manager = _useState2[0],\n      setManager = _useState2[1]; // Effects\n\n\n  useEffect(function () {\n    getManager();\n  }, []); // Functions\n\n  var getManager = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var manager, entryPointTagLine, predefineChatMessageAuthorName, predefinedChatMessageBody, welcomeMessage;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return FlexWebChat.Manager.create(configuration);\n\n            case 2:\n              manager = _context.sent;\n              customState.addReducer('custom', customReducer);\n              manager.store.replaceReducer(customState.combinedReducers()); // Manager string overrides\n\n              entryPointTagLine = managerStringOverrides.entryPointTagLine, predefineChatMessageAuthorName = managerStringOverrides.predefineChatMessageAuthorName, predefinedChatMessageBody = managerStringOverrides.predefinedChatMessageBody, welcomeMessage = managerStringOverrides.welcomeMessage;\n              manager.strings.EntryPointTagline = entryPointTagLine;\n              manager.strings.PredefinedChatMessageAuthorName = predefineChatMessageAuthorName;\n              manager.strings.PredefinedChatMessageBody = predefinedChatMessageBody;\n              manager.strings.WelcomeMessage = welcomeMessage; // Append custom Interactives Component\n\n              FlexWebChat.MessageList.Content.add( /*#__PURE__*/React.createElement(Interactives, {\n                key: \"interactives\",\n                colorTheme: configuration.colorTheme.overrides.Interactives,\n                manager: manager,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 7\n                }\n              })); // Set manager on state\n\n              setManager(manager);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getManager() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // Render\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, manager ? /*#__PURE__*/React.createElement(FlexWebChat.ContextProvider, {\n    manager: manager,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FlexWebChat.RootContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, loadingPlaceholder));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/mmarshall/Desktop/twilio-flex-interactive-webchat/src/App.jsx"],"names":["React","useEffect","useState","FlexWebChat","customState","customReducer","Interactives","loadingPlaceholder","managerStringOverrides","App","configuration","manager","setManager","getManager","Manager","create","addReducer","store","replaceReducer","combinedReducers","entryPointTagLine","predefineChatMessageAuthorName","predefinedChatMessageBody","welcomeMessage","strings","EntryPointTagline","PredefinedChatMessageAuthorName","PredefinedChatMessageBody","WelcomeMessage","MessageList","Content","add","colorTheme","overrides"],"mappings":";;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,KAAKC,WAAZ,MAA6B,yBAA7B,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,aAAP,MAA0B,gCAA1B,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,2BAAzB,C,CAEA;;AAEA,SAASC,kBAAT,EAA6BC,sBAA7B,QAA2D,UAA3D,C,CAEA;;AACA,IAAMC,GAAG,GAAG,SAANA,GAAM,OAAuB;AAAA,MAApBC,aAAoB,QAApBA,aAAoB;;AACjC;AADiC,kBAEHR,QAAQ,CAAC,IAAD,CAFL;AAAA;AAAA,MAE1BS,OAF0B;AAAA,MAEjBC,UAFiB,kBAIjC;;;AACAX,EAAAA,SAAS,CAAC,YAAM;AACdY,IAAAA,UAAU;AACX,GAFQ,EAEN,EAFM,CAAT,CALiC,CASjC;;AACA,MAAMA,UAAU;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEKV,WAAW,CAACW,OAAZ,CAAoBC,MAApB,CAA2BL,aAA3B,CAFL;;AAAA;AAEXC,cAAAA,OAFW;AAGjBP,cAAAA,WAAW,CAACY,UAAZ,CAAuB,QAAvB,EAAiCX,aAAjC;AACAM,cAAAA,OAAO,CAACM,KAAR,CAAcC,cAAd,CAA6Bd,WAAW,CAACe,gBAAZ,EAA7B,EAJiB,CAKjB;;AAEEC,cAAAA,iBAPe,GAWbZ,sBAXa,CAOfY,iBAPe,EAQfC,8BARe,GAWbb,sBAXa,CAQfa,8BARe,EASfC,yBATe,GAWbd,sBAXa,CASfc,yBATe,EAUfC,cAVe,GAWbf,sBAXa,CAUfe,cAVe;AAYjBZ,cAAAA,OAAO,CAACa,OAAR,CAAgBC,iBAAhB,GAAoCL,iBAApC;AACAT,cAAAA,OAAO,CAACa,OAAR,CAAgBE,+BAAhB,GAAkDL,8BAAlD;AACAV,cAAAA,OAAO,CAACa,OAAR,CAAgBG,yBAAhB,GAA4CL,yBAA5C;AACAX,cAAAA,OAAO,CAACa,OAAR,CAAgBI,cAAhB,GAAiCL,cAAjC,CAfiB,CAgBjB;;AACApB,cAAAA,WAAW,CAAC0B,WAAZ,CAAwBC,OAAxB,CAAgCC,GAAhC,eACE,oBAAC,YAAD;AACE,gBAAA,GAAG,EAAC,cADN;AAEE,gBAAA,UAAU,EAAErB,aAAa,CAACsB,UAAd,CAAyBC,SAAzB,CAAmC3B,YAFjD;AAGE,gBAAA,OAAO,EAAEK,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAjBiB,CAwBjB;;AACAC,cAAAA,UAAU,CAACD,OAAD,CAAV;;AAzBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVE,UAAU;AAAA;AAAA;AAAA,KAAhB,CAViC,CAsCjC;;;AACA,sBACE,0CACGF,OAAO,gBACN,oBAAC,WAAD,CAAa,eAAb;AAA6B,IAAA,OAAO,EAAEA,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD,CAAa,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADM,gBAKN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMJ,kBAAN,CANJ,CADF;AAWD,CAlDD;;AAoDA,eAAeE,GAAf","sourcesContent":["// Package Imports\nimport React, { useEffect, useState } from 'react';\nimport * as FlexWebChat from '@twilio/flex-webchat-ui';\n\n// Global State Imports\nimport customState from './store/state';\nimport customReducer from './store/reducers/customReducer';\n\n// Component Imports\nimport Interactives from './components/Interactives';\n\n// Const Imports\n\nimport { loadingPlaceholder, managerStringOverrides } from './consts';\n\n// Component\nconst App = ({ configuration }) => {\n  // State\n  const [manager, setManager] = useState(null);\n\n  // Effects\n  useEffect(() => {\n    getManager();\n  }, []);\n\n  // Functions\n  const getManager = async () => {\n    // Init Flex Webchat Manager\n    const manager = await FlexWebChat.Manager.create(configuration);\n    customState.addReducer('custom', customReducer);\n    manager.store.replaceReducer(customState.combinedReducers());\n    // Manager string overrides\n    const {\n      entryPointTagLine,\n      predefineChatMessageAuthorName,\n      predefinedChatMessageBody,\n      welcomeMessage,\n    } = managerStringOverrides;\n    manager.strings.EntryPointTagline = entryPointTagLine;\n    manager.strings.PredefinedChatMessageAuthorName = predefineChatMessageAuthorName;\n    manager.strings.PredefinedChatMessageBody = predefinedChatMessageBody;\n    manager.strings.WelcomeMessage = welcomeMessage;\n    // Append custom Interactives Component\n    FlexWebChat.MessageList.Content.add(\n      <Interactives\n        key=\"interactives\"\n        colorTheme={configuration.colorTheme.overrides.Interactives}\n        manager={manager}\n      />\n    );\n    // Set manager on state\n    setManager(manager);\n  };\n\n  // Render\n  return (\n    <>\n      {manager ? (\n        <FlexWebChat.ContextProvider manager={manager}>\n          <FlexWebChat.RootContainer />\n        </FlexWebChat.ContextProvider>\n      ) : (\n        <div>{loadingPlaceholder}</div>\n      )}\n    </>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}