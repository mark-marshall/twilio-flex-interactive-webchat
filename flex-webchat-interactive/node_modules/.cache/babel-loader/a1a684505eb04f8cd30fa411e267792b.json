{"ast":null,"code":"import _slicedToArray from \"/Users/mmarshall/Desktop/twilio-flex-interactive-webchat/flex-webchat-interactive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useControlled } from '@mui/material/utils';\nimport { arrayIncludes } from '../utils';\nexport function useViews(_ref) {\n  var onChange = _ref.onChange,\n      onViewChange = _ref.onViewChange,\n      openTo = _ref.openTo,\n      view = _ref.view,\n      views = _ref.views;\n\n  var _views, _views2;\n\n  var _useControlled = useControlled({\n    name: 'Picker',\n    state: 'view',\n    controlled: view,\n    default: openTo && arrayIncludes(views, openTo) ? openTo : views[0]\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      openView = _useControlled2[0],\n      setOpenView = _useControlled2[1];\n\n  var previousView = (_views = views[views.indexOf(openView) - 1]) != null ? _views : null;\n  var nextView = (_views2 = views[views.indexOf(openView) + 1]) != null ? _views2 : null;\n  var changeView = React.useCallback(function (newView) {\n    setOpenView(newView);\n\n    if (onViewChange) {\n      onViewChange(newView);\n    }\n  }, [setOpenView, onViewChange]);\n  var openNext = React.useCallback(function () {\n    if (nextView) {\n      changeView(nextView);\n    }\n  }, [nextView, changeView]);\n  var handleChangeAndOpenNext = React.useCallback(function (date, currentViewSelectionState) {\n    var isSelectionFinishedOnCurrentView = currentViewSelectionState === 'finish';\n    var globalSelectionState = isSelectionFinishedOnCurrentView && Boolean(nextView) ? 'partial' : currentViewSelectionState;\n    onChange(date, globalSelectionState);\n\n    if (isSelectionFinishedOnCurrentView) {\n      openNext();\n    }\n  }, [nextView, onChange, openNext]);\n  return {\n    handleChangeAndOpenNext: handleChangeAndOpenNext,\n    nextView: nextView,\n    previousView: previousView,\n    openNext: openNext,\n    openView: openView,\n    setOpenView: changeView\n  };\n}","map":null,"metadata":{},"sourceType":"module"}